{
"Version":	"$Id: mailmonitor-conf-dist.json,v 1.2 2015/04/07 16:26:51 weiwang Exp $",

"":
[
	"Please do not edit this file. This file is only for distribution as an example.",

	"Make a copy to '/opt/miops/etc/mailmonitor-conf.json' and make changes there.",

	"---- CAUTION: ----",

	"  THIS FILE NEED TO BE MADE READABLE ONLY TO THE OWNER AS IT CONTAINS SENSITIVE INFORMATION  ",
	"---------------------------------------------------------------------------------------------"
],
"user":		"splunk-admin",
"password":	"............",
"imap":
{
	"server":	"email.med.umich.edu",
	"port":		993
},

"tasklist":	[ "ncsmon", "cleanup", "cleanup-cron" ],

"smtp":
{
	"":		"Regular internal SMTP server -- no transport security",
	"":		"--",
	"server":	"smail-int.med.umich.edu",
	"port":		25
},
"#smtp":
{
	"":
	[
		"May need to use this one if the internal SMTP server is not reachable",
		"--  May need to change the code to start TLS",
		"----"
	],
	"":		"--",
	"server":	"email.med.umich.edu",
	"port":		587
},

"ncsmon":
{
	"note":
	[
		"Task to monitor email messages, extract and save attachments to specified folder,",
		"--  'action' is a required MailMonitor plugin name.",
		"--  'path' is an optional folder name, defaults to '/var/log/mailmon'.",
		"----"
	],
	"search":
	[
		"UNSEEN",
		"HEADER Subject \"Report: Client Count - Wireless-Client-Count\"",
		"HEADER From NCS@med.umich.edu"
	],
	"action":	"Extract",
	"path":		"/opt/miops/var/ncsmon",
	"":		"#"
},

"cleanup":
{
	"action":	"Delete",
	"days":		60,
	"note":
	[
		"Task to delete old email messages,",
		"--  'action' is a required MailMonitor plugin name.",
		"--  'days' is an optional number of days to retain messages, defaults to 60.",
		"----"
	],
	"":		"#"
},

"cleanup-cron":
{
	"action":	"Delete",
	"days":		30,
	"limit":	100,
	"box":		"Archive/cron",
	"note":
	[
		"Task to delete email messages in the 'Archive/cron' mailbox older than 30 days,",
		"#"
	],
	"":		"#"
},

"archive":	"MISent",
"expunge":	true,

"":	"-- End -- "
}
